<!doctype html>
<html lang="pl">
<head>
    <title>jquery.autocompleter demo</title>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <link href="../src/jquery.autocompleter.less" rel="stylesheet/less" type="text/css" />
</head>
<body>
    <form method="post" action="">
        <input type="text" name="data_array[]" id="dupa" style="font-size: 13px; padding: 6px; width: 200px; border: 1px solid black;" placeholder="Wpisz coÅ›" data-autocompleter="true" data-ajax-url="http://www.goldenline.pl.127.0.0.1.xip.io/GoldenLine/web/app_dev.php/ajax-json?method=Profile.Experience.GetCompanyNameFA&name=" data-custom-items="true" data-unique-items="true" />
    </form>

    <script src="../dist/jquery.min.js"></script>
    <script src="../dist/less.min.js"></script>
    <script src="../src/jquery.autocompleter.js"></script>

    <script>
        (function() {
            function jsonUpdateHandler(event, json) {
                var $autocompleter = $(event.target).next(),
                    suggestions = [];

                for (var i = 0; i < json.length; i++) {
                    suggestions.push({
                        label: json[i].name,
                        value: json[i].id
                    });
                }

                $autocompleter.data('suggestions', suggestions);
            }

            function itemAddHandler(event, item) {
                console.log('dodany item', item)
            }

            function itemRemoveHandler(event, item) {
                console.log('usuniety item', item)
            }

            $(function() {
                $('input[data-autocompleter="true"]').autocompleter()
                                                     .on('json-update.autocompleter', jsonUpdateHandler)
                                                     .on('item-add.autocompleter', itemAddHandler)
                                                     .on('item-remove.autocompleter', itemRemoveHandler);
            });
        }());
    </script>
</body>
</html>